<!DOCTYPE html>
<html>
  	<head>
	    <meta charset="utf-8">
	    <title> Treemap </title>

		<!-- link to styling sheets -->
		<link rel="stylesheet" type="text/css" href="Tree.css"/>
		<!-- enter font -->
		<!--<link href='http://fonts.googleapis.com/css?family=Raleway:700,400' rel='stylesheet' type='text/css'>-->

		<!-- load the d3.js library -->  
		<script src="../API/d3.v3.js"></script>
		<!-- load the d3.js library -->  
		<script src="../API/d3.layout.js"></script>
		<!-- load the queue library -->
		<script src="../API/queue.v1.js"></script>
		<!-- load the tooltop library -->
		<script src="../API/d3.tip.v0.6.3.js"></script>

	    <!-- link to javascript-->
		<script src="Tree.js"></script>    

	</head>

	<body>
		<header>The wondrous world of the library </header>

		<div id="description">
			<p>The library of the HvA is spread over six locations throughout Amsterdam. Each location has its own collection and hosts a specific teaching domain. The members of the library include students and employees of the HvA and of the University of Amsterdam (UvA) and external users. Users can lend and return a book at any location, even at the locations of the library of the UvA. For this project, only the locations and the students of the HvA shall be taken into consideration. The libraryâ€™s collection consists of different sorts of resource types, for this project only books shall be taken into consideration.</p>
		</div>

		<div id="treemap"></div>
		<div id="checkbox"></div>

		<footer>
			&#169; Sofia Tilon 2015</footer>


		<script>

	//=========== Generate the tree diagram =================//
	var margin = {top: 120, right: 200, bottom: 0, left: 200},
	 		width = 1000 - margin.right - margin.left,
	 		height = 450 - margin.top - margin.bottom;

	var i = 0,
		duration = 750,
		root;

	var viewerWidth = width;
	var viewerHeight = height;

	// define zoom variable
	var zoom  = d3.behavior.zoom()
		.scaleExtent([-10,10])
		.on("zoom", zoomed);

	// make tree canvas
	var tree = d3.layout.tree()
		.size([viewerHeight, viewerWidth]);

	// create diagonals to draw links
	var diagonal = d3.svg.diagonal()
		.projection(function(d) { return [d.y, d.x]; });

	// make svg canvas
	var svg1 = d3.select("#treemap").append("svg")
		.attr("id","svg1")
		.attr("width", viewerWidth + margin.right + margin.left)
		.attr("height", viewerHeight + margin.top + margin.bottom)
		.call(zoom)
		.append("g")
		.attr("transform","translate(" + margin.left + "," + margin.top + ")")			
	
	// append g element to store all nodes and links in
	var container = svg1.append("g")
		.attr("transform", "translate(" + margin.left + "," + margin.top + ")")

	var rect = container.append("rect")
		.attr("width", viewerWidth + margin.right + margin.left)
	    .attr("height", viewerHeight + margin.top + margin.bottom)
	    .attr("x", 0 - margin.left)
	    .attr("y", 0 - margin.bottom - margin.top)
	    .style("fill", "none")
	    .style("pointer-events", "all");

	queue()
		.defer(d3.json, "../Data/tree.json")
		.awaitAll(ready);

		</script>
	</body>

</html>
